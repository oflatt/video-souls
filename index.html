<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-L6XVHV2JJ5"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-L6XVHV2JJ5');
    </script>

    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5102275085064362" crossorigin="anonymous"></script>


    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Unicase:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <title>Video Souls</title>
    <link href="style.css" rel="stylesheet" />
    <link href="editor.css" rel="stylesheet" />
</head>
<body>
    <div id="game-container">
        <div id="video-player"></div>
    </div>
    <div id="floating-menu">
        <h1>Video Souls</h1>
        <div id="levels-container"></div>
        <h2>New Custom Level</h2>
        <input id="video-url" type="text" placeholder="Enter YouTube video URL" />
        <button id="record-button">Edit New Custom Level</button>
        <h2>Custom Level</h2>
        <textarea id="custom-level-input">Level JSON Here</textarea>
        <div>
            <button id="custom-level-play-button">Play</button>
            <div></div>
            <button id="custom-level-edit-button">Edit</button>
            <div></div>
            <button id="export-button">Export</button>
        </div>
        <textarea id="validation-error"></textarea>
        <!-- Settings section at the bottom of the menu -->
        <div id="main-menu-settings-section">
            <div id="main-menu-volume-container">
                <label for="main-menu-volume-slider">Volume</label>
                <input id="main-menu-volume-slider" type="range" min="0" max="100" />
            </div>
        </div>
    </div>
    <div id="game-hud">
        <h2 id="current-time">Current Time</h2>
        <h2 id="wkey">W</h2>
        <h2 id="akey">A</h2>
        <h2 id="skey">S</h2>
        <h2 id="dkey">D</h2>
        <h2 id="parrykey">Parry: k</h2>
        <h2 id="attackkey">Attack: j</h2>
    </div>
    <div id="battle-end-hud">
        <button id="back-button">Back</button>
        <button id="retry-button">Retry</button>
    </div>
    <div id="record-hud">
        <button id="editor-exit-to-menu-button">Exit to Menu</button>
        <input id="editor-title-input" type="text" placeholder="Level Title" />
        <div id="recording-controls">
            <div id="playback-bar-wrapper">
                <div id="playback-bar"></div>
                <div id="playback-point"></div>
                <div class="attack-marker template">
                    <div class="marker-line">
                        <div class="marker-handle">
                        <div class="damage-line">
                            <div class="damage-handle"></div>
                        </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="controls-info">
            <div class="controls-entry">
                <kbd><kbd>Space</kbd></kbd> Play/Pause
            </div>
            <div class="controls-entry">
                <kbd><kbd>K</kbd></kbd> Add attack marker
            </div>
            <div class="controls-entry">
                <kbd><kbd>J</kbd> <kbd>L</kbd></kbd> 1/2 second jump
            </div>
            <div class="controls-entry">
                <kbd><kbd>M</kbd> <kbd>.</kbd></kbd> 1/20 second jump
            </div>
            <div class="controls-entry">
                <kbd><kbd>&ShortLeftArrow;</kbd> <kbd>&ShortRightArrow;</kbd></kbd> 1 second jump
            </div>
            <div class="controls-entry">
                <kbd><kbd>W</kbd><kbd>A</kbd><kbd>S</kbd><kbd>D</kbd></kbd> Aim attack direction (hold W and press K)
            </div>
            <div class="controls-entry">
                <kbd><kbd>X</kbd></kbd> Delete attack / interval
            </div>
            <div class="controls-entry">
                <kbd><kbd>I</kbd></kbd> Add attack interval (advanced)
            </div>
        </div>
    </div>
    <canvas id="game-canvas"></canvas>

    <script src="src/acorn_interpreter.js"></script>
    <script src="dist/main.js"></script>
    <script src="https://www.youtube.com/iframe_api"></script>
</body>
</html>
